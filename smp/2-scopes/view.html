<html>
    <head>
        <script src="../jquery-1.11.1.min.js"></script>
        <script src="../../bld/stage3/src/core/binding.js"></script>
        <script type="text/binding">
            @binding view {
                #name {
                    on:keyup +> value -> uppercase -> @temp
                    @temp -> $name
                }
                #label, #label2 {
                    text <- $name
                }
                .inputField {
                        @temp <- reverse <- $name
                        attr:data-reverse <- @temp
                }
                div {
                    #label {
                        attr:data-text <- $name
                    }
                    li.first, li.second (@person: $decide ? $persons1 : $persons2) {
                        text <- @person.name
                    }
                    attr:data-id <~ "This is a div"
                }
                div.genders {
                    div.gender (@gender: ["Male", "Female"]) {
                        div.age (@age: [20, 30, 40, 50, 60, 70]) {
                            text <- @gender + " - " + @age
                        }
                        .manText (@gender == "Male")
                        .womanText (@gender == "Female")
                    }
                }
            }
        </script>
        <!-- script type="text/binding">
            @binding view {
                div {
                    li.first, li.second (@person: $decide ? $persons1 : $persons2) {
                        text <- @person.name
                    }
                }
                div.genders {
                    div.gender (@gender: ["Male", "Female"]) {
                        div.age (@age: [20, 30, 40, 50, 60, 70]) {
                            text <- @gender + " - " + @age
                        }
                        .manText (@gender == "Male")
                        .womanText (@gender == "Female")
                    }
                }
            }
        </script -->
        <script type="text/javascript">
            var model = {
                name: "Enter your name!"
            }
            
            $(function() {
                BindingJS
                    .create()
                    .template("#template")
                    .binding($("script[type='text/binding']"))
                    .model(model)
                    .mount("#template")
                    .activate()
            })
        </script>
    </head>
    <body>
        <div id="template">
            <input id="name" class="inputField" type="text" />
            <input class="inputField" type="text" />
            <div>
                <span id="label" class="spanField"></span>
                <span id="label2" class="spanField"></span>
                <ul>
                    <li class="first"></li>
                    <li class="second"></li>
                </ul>
            </div>
            <div class="genders">
                <div class="gender">
                    <h3>Gender</h3>
                    <div class="age"></div>
                    <span class="mantext">What a man!</span>
                    <span class="womanText">What a woman!</span>
                </div>
            </div>
        </div>
    </body>
</html>